import type { Access } from "@/types/access";
import type { Devices } from "@/types/devices";
import type { roles } from "@/types/roles";
import type { User } from "@/types/user";
import type { Software } from "@/types/software";
import type { UserDetail } from "@/types/userDetail";

export const users: User[] = [
  {
    id: "user-1",
    name: "Juan Pérez",
    email: "jperez@email.com.co",
    role: "dev" as roles,
    createdAt: "2023-01-01T12:00:00Z",
    updatedAt: "2023-01-02T12:00:00Z",
    lastLogin: "2023-01-03T12:00:00Z",
    isActive: true,
    area: "Desarrollo",
    team: "Equipo A",
  },
  {
    id: "user-2",
    name: "Ana Gómez",
    email: "agomez@email.com.co",
    role: "admin" as roles,
    createdAt: "2023-01-05T12:00:00Z",
    updatedAt: "2023-01-06T12:00:00Z",
    lastLogin: "2023-01-07T12:00:00Z",
    isActive: true,
    area: "Administración",
    team: "Equipo B",
  },
  {
    id: "user-3",
    name: "María Rodríguez",
    email: "mrodrig@email.com.co",
    role: "lead" as roles,
    createdAt: "2023-01-15T12:00:00Z",
    updatedAt: "2023-01-16T12:00:00Z",
    lastLogin: "2023-01-17T12:00:00Z",
    isActive: true,
    area: "Liderazgo",
    team: "Equipo C",
  },
  {
    id: "user-4",
    name: "Luis Fernández",
    email: "lfernan@email.com.co",
    role: "devops" as roles,
    createdAt: "2023-01-20T12:00:00Z",
    updatedAt: "2023-01-21T12:00:00Z",
    lastLogin: "2023-01-22T12:00:00Z",
    isActive: true,
    area: "Operaciones",
    team: "Equipo A",
  },
  {
    id: "user-5",
    name: "Carlos López",
    email: "clopez@email.com.co",
    role: "arquitect" as roles,
    createdAt: "2023-01-10T12:00:00Z",
    updatedAt: "2023-01-11T12:00:00Z",
    lastLogin: "2023-01-12T12:00:00Z",
    isActive: false,
    area: "Arquitectura",
    team: "Equipo B",
  },
  {
    id: "user-6",
    name: "Laura Martínez",
    email: "lhernan@email.com.co",
    role: "product_owner" as roles,
    createdAt: "2023-01-25T12:00:00Z",
    updatedAt: "2023-01-26T12:00:00Z",
    lastLogin: "2023-01-27T12:00:00Z",
    isActive: true,
    area: "Producto",
    team: "Equipo C",
  },
  {
    id: "user-7",
    name: "Pedro Sánchez",
    email: "psanche@email.com.co",
    role: "scrum_master" as roles,
    createdAt: "2023-01-30T12:00:00Z",
    updatedAt: "2023-01-31T12:00:00Z",
    lastLogin: "2023-02-01T12:00:00Z",
    isActive: true,
    area: "Scrum",
    team: "Equipo A",
  },
  {
    id: "user-8",
    name: "Sofía Torres",
    email: "storres@email.com.co",
    role: "ux_ui" as roles,
    createdAt: "2023-02-05T12:00:00Z",
    updatedAt: "2023-02-06T12:00:00Z",
    lastLogin: "2023-02-07T12:00:00Z",
    isActive: true,
    area: "UX/UI",
    team: "Equipo B",
  },
  {
    id: "user-9",
    name: "Andrés Ramírez",
    email: "aramir@email.com.co",
    role: "qa" as roles,
    createdAt: "2023-02-10T12:00:00Z",
    updatedAt: "2023-02-11T12:00:00Z",
    lastLogin: "2023-02-12T12:00:00Z",
    isActive: true,
    area: "Calidad",
    team: "Equipo C",
  },
  {
    id: "user-10",
    name: "Clara Jiménez",
    email: "cjimen@email.com.co",
    role: "dev" as roles,
    createdAt: "2023-02-15T12:00:00Z",
    updatedAt: "2023-02-16T12:00:00Z",
    lastLogin: "2023-02-17T12:00:00Z",
    isActive: true,
    area: "Desarrollo",
    team: "Equipo A",
  },
  {
    id: "user-11",
    name: "Diego Castillo",
    email: "dcasti@email.com.co",
    role: "admin" as roles,
    createdAt: "2023-02-20T12:00:00Z",
    updatedAt: "2023-02-21T12:00:00Z",
    lastLogin: "2023-02-22T12:00:00Z",
    isActive: true,
    area: "Administración",
    team: "Equipo B",
  },
  {
    id: "user-12",
    name: "Gabriela Herrera",
    email: "gherre@email.com.co",
    role: "lead" as roles,
    createdAt: "2023-02-25T12:00:00Z",
    updatedAt: "2023-02-26T12:00:00Z",
    lastLogin: "2023-02-27T12:00:00Z",
    isActive: true,
    area: "Liderazgo",
    team: "Equipo C",
  },
  {
    id: "user-13",
    name: "Fernando Ruiz",
    email: "fruiz@email.com.co",
    role: "devops" as roles,
    createdAt: "2023-03-01T12:00:00Z",
    updatedAt: "2023-03-02T12:00:00Z",
    lastLogin: "2023-03-03T12:00:00Z",
    isActive: true,
    area: "Operaciones",
    team: "Equipo A",
  },
  {
    id: "user-14",
    name: "Isabel Castro",
    email: "icastr@email.com.co",
    role: "arquitect" as roles,
    createdAt: "2023-03-05T12:00:00Z",
    updatedAt: "2023-03-06T12:00:00Z",
    lastLogin: "2023-03-07T12:00:00Z",
    isActive: true,
    area: "Arquitectura",
    team: "Equipo B",
  },
  {
    id: "user-15",
    name: "Roberto Morales",
    email: "rmoral@emial.com.co",
    role: "product_owner" as roles,
    createdAt: "2023-03-10T12:00:00Z",
    updatedAt: "2023-03-11T12:00:00Z",
    lastLogin: "2023-03-12T12:00:00Z",
    isActive: true,
    area: "Producto",
    team: "Equipo C",
  },
  {
    id: "user-16",
    name: "Patricia Gómez",
    email: "pgomez@email.com.co",
    role: "scrum_master" as roles,
    createdAt: "2023-03-15T12:00:00Z",
    updatedAt: "2023-03-16T12:00:00Z",
    lastLogin: "2023-03-17T12:00:00Z",
    isActive: true,
    area: "Scrum",
    team: "Equipo A",
  },
  {
    id: "user-17",
    name: "Javier Pérez",
    email: "jperez@email.com.co",
    role: "ux_ui" as roles,
    createdAt: "2023-03-20T12:00:00Z",
    updatedAt: "2023-03-21T12:00:00Z",
    lastLogin: "2023-03-22T12:00:00Z",
    isActive: true,
    area: "UX/UI",
    team: "Equipo B",
  },
  {
    id: "user-18",
    name: "Lucía Torres",
    email: "ltorre@email.com.co",
    role: "qa" as roles,
    createdAt: "2023-03-25T12:00:00Z",
    updatedAt: "2023-03-26T12:00:00Z",
    lastLogin: "2023-03-27T12:00:00Z",
    isActive: true,
    area: "Calidad",
    team: "Equipo C",
  },
];

export const devices: Devices[] = [
  {
    id: "device-1",
    serialNumber: "SN123456789",
    model: "MacBook Pro 16",
    createdAt: "2023-01-01T12:00:00Z",
    updatedAt: "2023-01-02T12:00:00Z",
    userId: "user-100",
    stateRequest: "accepted",
  },
  {
    id: "device-2",
    serialNumber: "SN987654321",
    model: "Lenovo Cambon X13",
    so: "Windows 11",
    createdAt: "2023-01-05T12:00:00Z",
    updatedAt: "2023-01-06T12:00:00Z",
    userId: "user-2",
    stateRequest: "pending",
  },
  {
    id: "device-3",
    serialNumber: "SN112233445",
    model: "MacBook Pro 14",
    so: "macOS Ventura",
    createdAt: "2023-01-10T12:00:00Z",
    updatedAt: "2023-01-11T12:00:00Z",
    userId: "user-3",
    stateRequest: "rejected",
  },
  {
    id: "device-4",
    serialNumber: "SN556677889",
    model: "Lenovo Cambon X13",
    so: "Ubuntu 22.04",
    createdAt: "2023-01-15T12:00:00Z",
    updatedAt: "2023-01-16T12:00:00Z",
    userId: "user-4",
    stateRequest: "accepted",
  },
  {
    id: "device-5",
    serialNumber: "SN998877665",
    model: "MacBook Pro 16",
    so: "macOS Ventura",
    createdAt: "2023-01-20T12:00:00Z",
    updatedAt: "2023-01-21T12:00:00Z",
    userId: "user-5",
    stateRequest: "pending",
  },
  {
    id: "device-6",
    serialNumber: "SN223344556",
    model: "Lenovo Cambon X13",
    so: "Windows 11",
    createdAt: "2023-01-25T12:00:00Z",
    updatedAt: "2023-01-26T12:00:00Z",
    userId: "user-6",
    stateRequest: "accepted",
  },
  {
    id: "device-7",
    serialNumber: "SN778899001",
    model: "MacBook Pro 14",
    so: "macOS Ventura",
    createdAt: "2023-01-30T12:00:00Z",
    updatedAt: "2023-01-31T12:00:00Z",
    userId: "user-7",
    stateRequest: "rejected",
  },
  {
    id: "device-8",
    serialNumber: "SN445566778",
    model: "Lenovo Cambon X13",
    so: "Ubuntu 20.04",
    createdAt: "2023-02-05T12:00:00Z",
    updatedAt: "2023-02-06T12:00:00Z",
    userId: "user-8",
    stateRequest: "accepted",
  },
  {
    id: "device-9",
    serialNumber: "SN334455667",
    model: "MacBook Pro 16",
    createdAt: "2023-02-10T12:00:00Z",
    updatedAt: "2023-02-11T12:00:00Z",
    userId: "user-9",
    stateRequest: "pending",
  },
  {
    id: "device-10",
    serialNumber: "SN889900112",
    model: "Lenovo Cambon X13",
    so: "Windows 11",
    createdAt: "2023-02-15T12:00:00Z",
    updatedAt: "2023-02-16T12:00:00Z",
    userId: "user-10",
    stateRequest: "accepted",
  },
  {
    id: "device-11",
    serialNumber: "SN667788990",
    model: "MacBook Pro 14",
    createdAt: "2023-02-20T12:00:00Z",
    updatedAt: "2023-02-21T12:00:00Z",
    userId: "user-11",
    stateRequest: "rejected",
  },
  {
    id: "device-12",
    serialNumber: "SN001122334",
    model: "Lenovo Cambon X13",
    so: "Ubuntu 22.04",
    createdAt: "2023-02-25T12:00:00Z",
    updatedAt: "2023-02-26T12:00:00Z",
    userId: "user-12",
    stateRequest: "accepted",
  },
  {
    id: "device-13",
    serialNumber: "SN556677889",
    model: "MacBook Pro 16",
    createdAt: "2023-03-01T12:00:00Z",
    updatedAt: "2023-03-02T12:00:00Z",
    userId: "user-13",
    stateRequest: "pending",
  },
  {
    id: "device-14",
    serialNumber: "SN998877665",
    model: "Lenovo Cambon X13",
    so: "Windows 11",
    createdAt: "2023-03-05T12:00:00Z",
    updatedAt: "2023-03-06T12:00:00Z",
    userId: "user-14",
    stateRequest: "accepted",
  },
  {
    id: "device-15",
    serialNumber: "SN223344556",
    model: "MacBook Pro 14",
    createdAt: "2023-03-10T12:00:00Z",
    updatedAt: "2023-03-11T12:00:00Z",
    userId: "user-15",
    stateRequest: "rejected",
  },
  {
    id: "device-16",
    serialNumber: "SN778899001",
    model: "Lenovo Cambon X13",
    so: "Ubuntu 20.04",
    createdAt: "2023-03-15T12:00:00Z",
    updatedAt: "2023-03-16T12:00:00Z",
    userId: "user-16",
    stateRequest: "accepted",
  },
  {
    id: "device-17",
    serialNumber: "SN445566778",
    model: "MacBook Pro 16",
    createdAt: "2023-03-20T12:00:00Z",
    updatedAt: "2023-03-21T12:00:00Z",
    userId: "user-17",
    stateRequest: "pending",
  },
  {
    id: "device-18",
    serialNumber: "SN334455667",
    model: "Lenovo Cambon X13",
    createdAt: "2023-03-25T12:00:00Z",
    updatedAt: "2023-03-26T12:00:00Z",
    userId: "user-18",
    stateRequest: "accepted",
  },
];

export const software: Software[] = [
  {
    id: "software-1",
    name: "GitHub",
    description: "Plataforma de desarrollo colaborativo",
    url: "https://github.com",
    createdAt: "2023-01-01T12:00:00Z",
    updatedAt: "2023-01-02T12:00:00Z",
    isActive: true,
    role: ["DEV", "DEVOPS", "ARQUITECT", "QA"] as roles[],
  },
  {
    id: "software-2",
    name: "Jira",
    description: "Herramienta de gestión de proyectos",
    url: "https://www.atlassian.com/software/jira",
    createdAt: "2023-01-05T12:00:00Z",
    updatedAt: "2023-01-06T12:00:00Z",
    isActive: true,
    // todos los roles
    role: [
      "DEV",
      "ADMIN",
      "LEAD",
      "DEVOPS",
      "ARQUITECT",
      "PRODUCT_OWNER",
      "SCRUM_MASTER",
      "UX_UI",
      "QA",
    ] as roles[],
  },
  {
    // sonnarcloud
    id: "software-3",
    name: "SonarCloud",
    description: "Plataforma de análisis de código",
    url: "https://sonarcloud.io",
    createdAt: "2023-01-10T12:00:00Z",
    updatedAt: "2023-01-11T12:00:00Z",
    isActive: true,
    role: ["DEV", "DEVOPS", "ARQUITECT", "QA"] as roles[],
  },
  {
    // confluence
    id: "software-4",
    name: "Confluence",
    description: "Herramienta de colaboración y documentación",
    url: "https://www.atlassian.com/software/confluence",
    createdAt: "2023-01-15T12:00:00Z",
    updatedAt: "2023-01-16T12:00:00Z",
    isActive: true,
    role: [
      "DEV",
      "ADMIN",
      "LEAD",
      "DEVOPS",
      "ARQUITECT",
      "PRODUCT_OWNER",
      "SCRUM_MASTER",
      "QA",
    ] as roles[],
  },
  {
    // figma
    id: "software-5",
    name: "Figma",
    description: "Herramienta de diseño colaborativo",
    url: "https://www.figma.com",
    createdAt: "2023-01-20T12:00:00Z",
    updatedAt: "2023-01-21T12:00:00Z",
    isActive: true,
    role: [
      "UX_UI",
      "DEV",
      "LEAD",
      "DEVOPS",
      "ARQUITECT",
      "PRODUCT_OWNER",
      "QA",
    ] as roles[],
  },
  {
    // browserstack
    id: "software-6",
    name: "BrowserStack",
    description: "Plataforma de pruebas en múltiples dispositivos",
    url: "https://www.browserstack.com",
    createdAt: "2023-01-25T12:00:00Z",
    updatedAt: "2023-01-26T12:00:00Z",
    isActive: true,
    role: ["QA"] as roles[],
  },
];

export const access: Access[] = [
  {
    id: "access-1",
    userId: "user-1",
    softwareId: "software-1",
    createdAt: "2023-01-01T12:00:00Z",
    updatedAt: "2023-01-02T12:00:00Z",
    stateRequest: "accepted",
  },
  {
    id: "access-2",
    userId: "user-2",
    softwareId: "software-2",
    createdAt: "2023-01-05T12:00:00Z",
    updatedAt: "2023-01-06T12:00:00Z",
    stateRequest: "pending",
  },
  {
    id: "access-3",
    userId: "user-3",
    softwareId: "software-3",
    createdAt: "2023-01-10T12:00:00Z",
    updatedAt: "2023-01-11T12:00:00Z",
    stateRequest: "rejected",
  },
  {
    id: "access-4",
    userId: "user-4",
    softwareId: "software-4",
    createdAt: "2023-01-15T12:00:00Z",
    updatedAt: "2023-01-16T12:00:00Z",
    stateRequest: "accepted",
  },
  {
    id: "access-5",
    userId: "user-5",
    softwareId: "software-5",
    createdAt: "2023-01-20T12:00:00Z",
    updatedAt: "2023-01-21T12:00:00Z",
    stateRequest: "pending",
  },
  {
    id: "access-6",
    userId: "user-6",
    softwareId: "software-6",
    createdAt: "2023-01-25T12:00:00Z",
    updatedAt: "2023-01-26T12:00:00Z",
    stateRequest: "accepted",
  },
  {
    id: "access-7",
    userId: "user-7",
    softwareId: "software-1",
    createdAt: "2023-01-30T12:00:00Z",
    updatedAt: "2023-01-31T12:00:00Z",
    stateRequest: "rejected",
  },
  {
    id: "access-8",
    userId: "user-8",
    softwareId: "software-2",
    createdAt: "2023-02-05T12:00:00Z",
    updatedAt: "2023-02-06T12:00:00Z",
    stateRequest: "accepted",
  },
  {
    id: "access-9",
    userId: "user-9",
    softwareId: "software-3",
    createdAt: "2023-02-10T12:00:00Z",
    updatedAt: "2023-02-11T12:00:00Z",
    stateRequest: "pending",
  },
  {
    id: "access-10",
    userId: "user-10",
    softwareId: "software-4",
    createdAt: "2023-02-15T12:00:00Z",
    updatedAt: "2023-02-16T12:00:00Z",
    stateRequest: "accepted",
  },
  {
    id: "access-11",
    userId: "user-11",
    softwareId: "software-5",
    createdAt: "2023-02-20T12:00:00Z",
    updatedAt: "2023-02-21T12:00:00Z",
    stateRequest: "rejected",
  },
  {
    id: "access-12",
    userId: "user-12",
    softwareId: "software-6",
    createdAt: "2023-02-25T12:00:00Z",
    updatedAt: "2023-02-26T12:00:00Z",
    stateRequest: "accepted",
  },
  {
    id: "access-13",
    userId: "user-13",
    softwareId: "software-1",
    createdAt: "2023-03-01T12:00:00Z",
    updatedAt: "2023-03-02T12:00:00Z",
    stateRequest: "pending",
  },
  {
    id: "access-14",
    userId: "user-14",
    softwareId: "software-2",
    createdAt: "2023-03-05T12:00:00Z",
    updatedAt: "2023-03-06T12:00:00Z",
    stateRequest: "accepted",
  },
  {
    id: "access-15",
    userId: "user-15",
    softwareId: "software-3",
    createdAt: "2023-03-10T12:00:00Z",
    updatedAt: "2023-03-11T12:00:00Z",
    stateRequest: "rejected",
  },
  {
    id: "access-16",
    userId: "user-16",
    softwareId: "software-4",
    createdAt: "2023-03-15T12:00:00Z",
    updatedAt: "2023-03-16T12:00:00Z",
    stateRequest: "accepted",
  },
  {
    id: "access-17",
    userId: "user-17",
    softwareId: "software-5",
    createdAt: "2023-03-20T12:00:00Z",
    updatedAt: "2023-03-21T12:00:00Z",
    stateRequest: "pending",
  },
  {
    id: "access-18",
    userId: "user-18",
    softwareId: "software-6",
    createdAt: "2023-03-25T12:00:00Z",
    updatedAt: "2023-03-26T12:00:00Z",
    stateRequest: "accepted",
  },
  {
    id: "access-19",
    userId: "user-1",
    softwareId: "software-2",
    createdAt: "2023-01-01T12:00:00Z",
    updatedAt: "2023-01-02T12:00:00Z",
    stateRequest: "accepted",
  },
  {
    id: "access-20",
    userId: "user-2",
    softwareId: "software-3",
    createdAt: "2023-01-05T12:00:00Z",
    updatedAt: "2023-01-06T12:00:00Z",
    stateRequest: "pending",
  },
  {
    id: "access-21",
    userId: "user-3",
    softwareId: "software-4",
    createdAt: "2023-01-10T12:00:00Z",
    updatedAt: "2023-01-11T12:00:00Z",
    stateRequest: "rejected",
  },
  {
    id: "access-22",
    userId: "user-4",
    softwareId: "software-5",
    createdAt: "2023-01-15T12:00:00Z",
    updatedAt: "2023-01-16T12:00:00Z",
    stateRequest: "accepted",
  },
  {
    id: "access-23",
    userId: "user-5",
    softwareId: "software-6",
    createdAt: "2023-01-20T12:00:00Z",
    updatedAt: "2023-01-21T12:00:00Z",
    stateRequest: "pending",
  },
  {
    id: "access-24",
    userId: "user-6",
    softwareId: "software-1",
    createdAt: "2023-01-25T12:00:00Z",
    updatedAt: "2023-01-26T12:00:00Z",
    stateRequest: "accepted",
  },
  {
    id: "access-25",
    userId: "user-7",
    softwareId: "software-2",
    createdAt: "2023-01-30T12:00:00Z",
    updatedAt: "2023-01-31T12:00:00Z",
    stateRequest: "rejected",
  },
  {
    id: "access-26",
    userId: "user-8",
    softwareId: "software-3",
    createdAt: "2023-02-05T12:00:00Z",
    updatedAt: "2023-02-06T12:00:00Z",
    stateRequest: "accepted",
  },
  {
    id: "access-27",
    userId: "user-9",
    softwareId: "software-4",
    createdAt: "2023-02-10T12:00:00Z",
    updatedAt: "2023-02-11T12:00:00Z",
    stateRequest: "pending",
  },
  {
    id: "access-28",
    userId: "user-10",
    softwareId: "software-5",
    createdAt: "2023-02-15T12:00:00Z",
    updatedAt: "2023-02-16T12:00:00Z",
    stateRequest: "accepted",
  },
  {
    id: "access-29",
    userId: "user-11",
    softwareId: "software-6",
    createdAt: "2023-02-20T12:00:00Z",
    updatedAt: "2023-02-21T12:00:00Z",
    stateRequest: "rejected",
  },
  {
    id: "access-30",
    userId: "user-12",
    softwareId: "software-1",
    createdAt: "2023-02-25T12:00:00Z",
    updatedAt: "2023-02-26T12:00:00Z",
    stateRequest: "accepted",
  },
];

export function getUserById(id: string): UserDetail {
  const user = users.find((user) => user.id === id);
  if (!user) {
    throw new Error(`User with id ${id} not found`);
  }

  const userDevices = devices.filter((device) => device.userId === id);
  const userAccess = access
    .filter((access) => {
      return (
        access.userId === id &&
        software.some((soft) => soft.id === access.softwareId)
      );
    })
    .map((access) => {
      const softwareItem = software.find(
        (soft) => soft.id === access.softwareId
      );
      return {
        ...access,
        software: softwareItem || undefined,
      };
    });

  return {
    user,
    devices: userDevices,
    access: userAccess,
  };
}

export function getAllUsers(): UserDetail[] {
  return users.map((user) => getUserById(user.id));
}

export function getPendingDevices(): Devices[] {
  return devices
    .filter((device) => device.stateRequest === "pending")
    .map((device) => {
      const user = users.find((user) => user.id === device.userId);
      return {
        ...device,
        user: user || undefined,
      };
    });
}

export function getPendingAccesses(): Access[] {
  return access
    .filter((access) => access.stateRequest === "pending")
    .map((access) => {
      const user = users.find((user) => user.id === access.userId);
      const softwareItem = software.find(
        (soft) => soft.id === access.softwareId
      );
      return {
        ...access,
        user: user || undefined,
        software: softwareItem || undefined,
      };
    });
}
